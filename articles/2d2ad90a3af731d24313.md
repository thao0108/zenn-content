---
title: "php array_filter, array_values"
emoji: "ğŸ”¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [php]
published: true
---
## ã¯ã˜ã‚ã«
phpã§ä½¿ã£ãŸãƒ¡ã‚½ãƒƒãƒ‰ã¾ã¨ã‚ã¦ã„ãã¾ã™ã€‚

## array_filter
* é…åˆ—è¦ç´ ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã—ã¾ã™ã€‚
* callbacké–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦ã€å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚
* ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¾Œã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯æŒ¯ã‚Šç›´ã•ã‚Œãªã„ã§ã™ã€‚

[array_filter å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.php.net/manual/ja/function.array-filter.php)

```php
array_filter( é…åˆ—, callbacké–¢æ•°) {
    return å‡¦ç†;
}
```
### é…åˆ—ã‹ã‚‰ç‰¹å®šã®ã‚‚ã®ã‚’å–ã‚Šå‡ºã™
ãŠè“å­ã¨ã„ã†å¤šæ¬¡å…ƒé…åˆ—ã®ãªã‹ã«ã€
é…åˆ—ã®ã‚­ãƒ¼ã‚’ã€Œå•†å“æƒ…å ±ã€ã¨ã€Œå•†å“ä¾¡æ ¼ã€ã¨ã—ãŸé€£æƒ³é…åˆ—ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ãŸã€‚

```php
$ãŠè“å­ = [
    ['å•†å“æƒ…å ±' => 'ã‚ªãƒ¬ã‚ª', 'å•†å“ä¾¡æ ¼' => 100],
    ['å•†å“æƒ…å ±' => 'ã˜ã‚ƒãŒã‚Šã“', 'å•†å“ä¾¡æ ¼' => 200],
    ['å•†å“æƒ…å ±' => 'ãƒãƒ†ãƒ', 'å•†å“ä¾¡æ ¼' => 120],
    ['å•†å“æƒ…å ±' => 'ãƒãƒƒã‚­ãƒ¼', 'å•†å“ä¾¡æ ¼' => 180],
    ['å•†å“æƒ…å ±' => 'ãƒ©ãƒ ãƒ', 'å•†å“ä¾¡æ ¼' => 50],
];

// å•†å“ä¾¡æ ¼ãŒ150ä»¥ä¸‹ã®ã‚‚ã®ã‚’è³¼å…¥ã«ä»£å…¥
$è³¼å…¥ = array_filter($ãŠè“å­, function($ã‚«ã‚´){
    return $ã‚«ã‚´['å•†å“ä¾¡æ ¼'] < 150;
});
var_dump($è³¼å…¥);

// array(3) {
//   [0]=>
//   array(2) {
//     ["å•†å“æƒ…å ±"]=>
//     string(9) "ã‚ªãƒ¬ã‚ª"
//     ["å•†å“ä¾¡æ ¼"]=>
//     int(100)
//   }
//   [2]=>
//   array(2) {
//     ["å•†å“æƒ…å ±"]=>
//     string(9) "ãƒãƒ†ãƒ"
//     ["å•†å“ä¾¡æ ¼"]=>
//     int(120)
//   }
//   [4]=>
//   array(2) {
//     ["å•†å“æƒ…å ±"]=>
//     string(9) "ãƒ©ãƒ ãƒ"
//     ["å•†å“ä¾¡æ ¼"]=>
//     int(50)
//   }
// }

```


## array_values
* é…åˆ—ã®indexãŒé †ç•ªé€šã‚Šã«ä¸¦ã‚“ã§ãªã„ã®ã§array_valuesã‚’ä½¿ç”¨
* indexã‚’é †ç•ªé€šã‚Šã«ã™ã‚‹

[array_values å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.php.net/manual/ja/function.array-values.php)

```php
array_values(é…åˆ—);
```

```php
$è³¼å…¥ = array_values($è³¼å…¥);
var_dump($è³¼å…¥);

// array(3) {
//   [0]=>
//   array(2) {
//     ["å•†å“æƒ…å ±"]=>
//     string(9) "ã‚ªãƒ¬ã‚ª"
//     ["å•†å“ä¾¡æ ¼"]=>
//     int(100)
//   }
//   [1]=>
//   array(2) {
//     ["å•†å“æƒ…å ±"]=>
//     string(9) "ãƒãƒ†ãƒ"
//     ["å•†å“ä¾¡æ ¼"]=>
//     int(120)
//   }
//   [2]=>
//   array(2) {
//     ["å•†å“æƒ…å ±"]=>
//     string(9) "ãƒ©ãƒ ãƒ"
//     ["å•†å“ä¾¡æ ¼"]=>
//     int(50)
//   }
// }
```


å‚ç…§
----
[array_filterã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ä½¿ç”¨ã™ã‚‹](https://qiita.com/tatsuo-iriyama/items/738ffd13a7ad98f40a8c)